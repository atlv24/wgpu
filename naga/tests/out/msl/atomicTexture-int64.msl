// language: metal3.1
#include <metal_stdlib>
#include <simd/simd.h>

using metal::uint;


struct cs_mainInput {
};
kernel void cs_main(
  metal::uint3 id [[thread_position_in_threadgroup]]
, metal::texture2d<uint, metal::access::write> image [[user(fake0)]]
) {
    atomic_max_explicit(&image[metal::uint2(metal::int2(0, 0))], 1uL, memory_order_relaxed);
    metal::threadgroup_barrier(metal::mem_flags::mem_threadgroup);
    atomic_min_explicit(&image[metal::uint2(metal::int2(0, 0))], 1uL, memory_order_relaxed);
    return;
}
